# Chapter3: Digging to the Roots of JS

这一章会深入探讨一些关于编程语言的内容，这可能超出了你习惯思考的深度。

## Iteration

#### 迭代器模式：

- **作用**：提供一种统一的方式来逐个访问集合元素，而不暴露集合的内部结构。
- **使用场景**：适用于大量数据的逐步处理，比如数据库查询结果、文件流、长列表等。
- **典型方法**：
  - `next()`：返回一个对象 `{ value, done }`，其中：
    - `value`：当前项；
    - `done`：是否已到结尾（`true` 表示没有更多数据了）。
- **优势**：
  - 标准化数据访问方式；
  - 提高代码可读性与可维护性；
  - 支持惰性加载与逐步处理，节省内存；
- **ES6 标准迭代器协议**：
  - 一个对象若可被 `for...of` 使用，需实现 `[Symbol.iterator]()` 方法；
  - `[Symbol.iterator]()` 返回一个迭代器对象，需实现 `next()` 方法；
  - `next()` 返回 `{ value, done }` 格式的对象。

### Consuming Iterators

ES6包含了几种机制（语法和api）来标准化这些迭代器的使用：

- **for...of**循环
- **...**操作符

### Iterables

**<u>*迭代器协议在技术上是为了使用可迭代对象而定义的；可迭代对象是可以被迭代的值。*</u>**

ES6将基本数据结构/集合类型在JS中定义为可迭代对象，包括字符串，数组，映射，集合等。

作者介绍了以上几种对象的迭代方式。

**在大多数情况下，JS中的所有内置可迭代对象都有三种可用的迭代器形式：仅键（keys()），仅值(values())，条目(entries())。**

除了使用内置可迭代对象外，还可以确保自己跌数据结构遵循迭代协议；这样做意味着你可以使用for...of循环和...